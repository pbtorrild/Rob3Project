

\begin{lstlisting}[frame=single,language=Arduino]
void AngleSelect(int32_t &ArrNow, int &MotorNR, int &ArrGoal, int EMG_1, int EMG_2, int32_t &PWM, bool &on){
  int thredH = 50;
  int thredL = 50;
  int AngleChange = 10;
  if (MotorNR == 1){
    if (EMG_1 >= thredH && EMG_2 <= thredL){
      ArrGoal = ArrGoal + AngleChange;
      PWM = 360;
      on = true;
    }
    else if (EMG_2 >= thredH && EMG_1 <= thredL){
      ArrGoal = ArrGoal - AngleChange;
      PWM = 360;
      on = true;
    }
    else{
      if (on == true){
        ArrGoal = ArrNow;
      }
      on = false;
    }
  }
  else{
    if (EMG_1 >= thredH && EMG_2 <= thredL){
      ArrGoal = ArrGoal + AngleChange;
      PWM = 360;
      on = true;
    }
    else if (EMG_2 >= thredH && EMG_1 <= thredL){
      ArrGoal = ArrGoal - AngleChange;
      PWM = 262;
      on = true;
    }
    else{
      if (on == true){
        ArrGoal = ArrNow;
        on = false;
      }
    }
  }
  return;
};
\end{lstlisting} \label{fig:AS}
